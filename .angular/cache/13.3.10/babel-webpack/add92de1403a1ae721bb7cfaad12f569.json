{"ast":null,"code":"import _asyncToGenerator from \"/Users/hazalsilayaprak/Projects/earthquake-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as FileSaver from 'file-saver';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"primeng/calendar\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"primeng/inputnumber\";\nimport * as i4 from \"primeng/dropdown\";\nimport * as i5 from \"primeng/button\";\nimport * as i6 from \"primeng/inputtext\";\nimport * as i7 from \"primeng/table\";\nimport * as i8 from \"primeng/api\";\n\nfunction AppComponent_ng_template_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 26);\n    i0.ɵɵtext(2, \" Date \");\n    i0.ɵɵelement(3, \"p-sortIcon\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"th\");\n    i0.ɵɵtext(5, \"Latitude\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Longitude\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"depth\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"magnitude\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"eventID\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction AppComponent_ng_template_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const tableData_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tableData_r2.date);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tableData_r2.latitude);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tableData_r2.longitude);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tableData_r2.depth);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tableData_r2.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tableData_r2.magnitude);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tableData_r2.location);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tableData_r2.eventID);\n  }\n}\n\nconst _c0 = function () {\n  return [10, 25, 50];\n};\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor() {\n      this.first = 0;\n      this.rows = 10;\n      this.searchText = '';\n      this.minLat = 26.0393;\n      this.maxLat = 51.3683;\n      this.minLongitude = 5.2193;\n      this.maxLongitude = 64.0886;\n      this.minDepth = 0;\n      this.maxDepth = 0;\n      this.minMagnitude = 0;\n      this.maxMagnitude = 0;\n    }\n\n    ngOnInit() {\n      this.getTableData();\n      this.getCountries();\n      this.getProvinces();\n      this.getSeaList();\n    }\n\n    next() {\n      this.first = this.first + this.rows;\n    }\n\n    prev() {\n      this.first = this.first - this.rows;\n    }\n\n    reset() {\n      this.first = 0;\n    }\n\n    isLastPage() {\n      return this.tableData ? this.first === this.tableData.length - this.rows : true;\n    }\n\n    isFirstPage() {\n      return this.tableData ? this.first === 0 : true;\n    }\n\n    get searchTable() {\n      var _a;\n\n      return (_a = this.tableData) === null || _a === void 0 ? void 0 : _a.filter(element => {\n        var _a;\n\n        return element.location.toLowerCase().includes((_a = this.searchText) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n      });\n    } // exportPdf() {\n    //   import('jspdf').then((jsPDF) => {\n    //     import('jspdf-autotable').then((x) => {\n    //       const doc = new jsPDF.default(0, 0);\n    //       doc.autoTable(this.exportColumns, this.tableData);\n    //       doc.save('tableData.pdf');\n    //     });\n    //   });\n    // }\n\n\n    exportExcel() {\n      import('xlsx').then(xlsx => {\n        const worksheet = xlsx.utils.json_to_sheet(this.tableData);\n        const workbook = {\n          Sheets: {\n            data: worksheet\n          },\n          SheetNames: ['data']\n        };\n        const excelBuffer = xlsx.write(workbook, {\n          bookType: 'xlsx',\n          type: 'array'\n        });\n        this.saveAsExcelFile(excelBuffer, 'tableData');\n      });\n    }\n\n    saveAsExcelFile(buffer, fileName) {\n      let EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n      let EXCEL_EXTENSION = '.xlsx';\n      const data = new Blob([buffer], {\n        type: EXCEL_TYPE\n      });\n      FileSaver.saveAs(data, fileName + '_export_' + new Date().getTime() + EXCEL_EXTENSION);\n    }\n\n    getCountries() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        let api = 'https://deprem.afad.gov.tr/Geography/GetCountries';\n        const response = yield fetch(api);\n        const data = yield response.json();\n        _this.cities = data;\n      })();\n    }\n\n    getProvinces() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        let api = 'https://deprem.afad.gov.tr/Geography/GetProvinces';\n        const response = yield fetch(api);\n        const data = yield response.json();\n        _this2.provinces = data;\n      })();\n    }\n\n    getSeaList() {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        let api = 'https://deprem.afad.gov.tr/Geography/GetSeas';\n        const response = yield fetch(api);\n        const data = yield response.json();\n        _this3.seaData = data;\n      })();\n    }\n\n    getDistrict() {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        let api = 'https://deprem.afad.gov.tr/Geography/GetDistrictByProvinceId' + _this4.selectedProvince.id;\n        const response = yield fetch(api);\n        const data = yield response.json();\n        _this4.districts = data;\n      })();\n    }\n\n    provinceSelect() {\n      this.getDistrict();\n    }\n\n    getTableData() {\n      var _this5 = this;\n\n      return _asyncToGenerator(function* () {\n        let api = 'https://deprem.afad.gov.tr/apiv2/event/filter?start=2022-09-14%2010:00:00&end=2022-09-16%2010:00:00';\n        const response = yield fetch(api);\n        const data = yield response.json();\n        _this5.tableData = data;\n      })();\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)();\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 56,\n    vars: 23,\n    consts: [[1, \"content\"], [1, \"header\"], [1, \"logo\"], [1, \"latest-earthquake\"], [1, \"grid\"], [1, \"col-7\", \"filter-section\"], [1, \"col-12\", \"label-wrapper\"], [\"for\", \"range\"], [1, \"col-6\"], [\"selectionMode\", \"range\", \"inputId\", \"range\", 3, \"ngModel\", \"readonlyInput\", \"showTime\", \"ngModelChange\"], [\"for\", \"\"], [3, \"ngModel\", \"ngModelChange\"], [\"optionLabel\", \"name\", 3, \"options\", \"ngModel\", \"ngModelChange\"], [\"optionLabel\", \"name\", 3, \"options\", \"ngModel\", \"ngModelChange\", \"onChange\"], [1, \"grid\", \"justify-content-end\"], [1, \"col-3\", \"flex\", \"justify-content-between\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"Temizle\", 1, \"p-button-raised\", \"p-button-text\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"Filtrele\"], [1, \"col-5\", \"map-section\"], [1, \"col-2\", \"flex\", \"justify-content-end\"], [1, \"p-input-icon-left\"], [1, \"pi\", \"pi-search\"], [\"type\", \"text\", \"pInputText\", \"\", \"placeholder\", \"Search\", 3, \"ngModel\", \"ngModelChange\"], [\"responsiveLayout\", \"scroll\", \"responsiveLayout\", \"scroll\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\", \"paginator\", \"rows\", \"showCurrentPageReport\", \"rowsPerPageOptions\", \"exportHeader\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pSortableColumn\", \"date\"], [\"field\", \"date\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵtext(4, \"latest-earthquake\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5)(7, \"div\", 4)(8, \"div\", 6)(9, \"label\", 7);\n        i0.ɵɵtext(10, \"Tarih Araligi\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 8)(12, \"p-calendar\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_p_calendar_ngModelChange_12_listener($event) {\n          return ctx.rangeDates = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"div\", 4)(14, \"div\", 6)(15, \"label\", 10);\n        i0.ɵɵtext(16, \"Derinlik Araligi\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"div\", 8)(18, \"p-inputNumber\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_p_inputNumber_ngModelChange_18_listener($event) {\n          return ctx.minDepth = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 8)(20, \"p-inputNumber\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_p_inputNumber_ngModelChange_20_listener($event) {\n          return ctx.maxDepth = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(21, \"div\", 4)(22, \"div\", 6)(23, \"label\", 10);\n        i0.ɵɵtext(24, \"Buyukluk Araligi\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"div\", 8)(26, \"p-inputNumber\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_p_inputNumber_ngModelChange_26_listener($event) {\n          return ctx.minMagnitude = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"div\", 8)(28, \"p-inputNumber\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_p_inputNumber_ngModelChange_28_listener($event) {\n          return ctx.maxMagnitude = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(29, \"div\", 4)(30, \"div\", 6)(31, \"label\", 10);\n        i0.ɵɵtext(32, \"Yer\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(33, \"div\", 8)(34, \"p-dropdown\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_p_dropdown_ngModelChange_34_listener($event) {\n          return ctx.selectedCity = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(35, \"div\", 8)(36, \"p-dropdown\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_p_dropdown_ngModelChange_36_listener($event) {\n          return ctx.selectedSea = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"div\", 8)(38, \"p-dropdown\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_p_dropdown_ngModelChange_38_listener($event) {\n          return ctx.selectedProvince = $event;\n        })(\"onChange\", function AppComponent_Template_p_dropdown_onChange_38_listener() {\n          return ctx.provinceSelect();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(39, \"div\", 8)(40, \"p-dropdown\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_p_dropdown_ngModelChange_40_listener($event) {\n          return ctx.selectedDistrict = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(41, \"div\", 14)(42, \"div\", 15);\n        i0.ɵɵelement(43, \"button\", 16)(44, \"button\", 17);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(45, \"div\", 18);\n        i0.ɵɵtext(46, \"m\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(47, \"div\")(48, \"div\", 14)(49, \"div\", 19)(50, \"span\", 20);\n        i0.ɵɵelement(51, \"i\", 21);\n        i0.ɵɵelementStart(52, \"input\", 22);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_52_listener($event) {\n          return ctx.searchText = $event;\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(53, \"p-table\", 23);\n        i0.ɵɵtemplate(54, AppComponent_ng_template_54_Template, 18, 0, \"ng-template\", 24);\n        i0.ɵɵtemplate(55, AppComponent_ng_template_55_Template, 17, 8, \"ng-template\", 25);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngModel\", ctx.rangeDates)(\"readonlyInput\", true)(\"showTime\", true);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.minDepth);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.maxDepth);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.minMagnitude);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.maxMagnitude);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"options\", ctx.cities)(\"ngModel\", ctx.selectedCity);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"options\", ctx.seaData)(\"ngModel\", ctx.selectedSea);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"options\", ctx.provinces)(\"ngModel\", ctx.selectedProvince);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"options\", ctx.districts)(\"ngModel\", ctx.selectedDistrict);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchText);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"value\", ctx.searchTable)(\"paginator\", true)(\"rows\", 10)(\"showCurrentPageReport\", true)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(22, _c0))(\"exportHeader\", \"customExportHeader\");\n      }\n    },\n    directives: [i1.Calendar, i2.NgControlStatus, i2.NgModel, i3.InputNumber, i4.Dropdown, i5.ButtonDirective, i2.DefaultValueAccessor, i6.InputText, i7.Table, i8.PrimeTemplate, i7.SortableColumn, i7.SortIcon],\n    styles: [\".content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px;background-color:#fff;box-shadow:0 1px 3px #3333331a}.content[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{flex-grow:1}.content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{margin:8px 0}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}